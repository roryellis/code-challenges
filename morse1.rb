#Function takes a string argument of morse code, composed of "." and "-". A single space(" ") identifies letter separation. Triple space("   ") identifies word separation. Extra spaces at beginning and end of string are ignored.  

MORSE_LIBRARY = {"-.-.-."=>";","-...-"=>"=","---"=>"O","----."=>"9","-..-."=>"/",".-..."=>"&","...--"=>"3",".--"=>"W","--"=>"M","--.."=>"Z",".----."=>"'","-.-.--"=>"!","-..."=>"B","..-"=>"U",".----"=>"1","-.--.-"=>")",".-"=>"A","-....-"=>"-","...-"=>"V","...---..."=>"SOS","-.--"=>"Y",".."=>"I","--.-"=>"Q","-."=>"N","..---"=>"2","-...."=>"6","---..."=>",",".-.-."=>"+",".--.-."=>"@","....-"=>"4","-----"=>"0",".-.-.-"=>".","-.-."=>"C","."=>"E","..-."=>"F",".---"=>"J","-.-"=>"K",".-.."=>"L",".-."=>"R","..."=>"S","--."=>"G","---.."=>"8","..--.."=>"?","-.--."=>"(",".--."=>"P","....."=>"5","..--.-"=>"_","-.."=>"D",".-..-."=>"\"","-"=>"T","...."=>"H","--..--"=>",","...-..-"=>"$","--..."=>"7","-..-"=>"X"}

def dotDashDecoder(morse)
  inputWords = morse.strip.split('   ')
  decodedWords = []
  inputWords.each do |w|
    outputWord = ''
    inputLetters = w.split(' ')
    inputLetters.each do |l|
      outputWord += MORSE_LIBRARY[l].to_s
    end
    decodedWords.push(outputWord)
  end
  return decodedWords.join(' ')
end

puts dotDashDecoder('-. . ...- . .-.   --. --- -. -. .-   --. .. ...- .   -.-- --- ..-   ..- .--. .-.-.-   -. . ...- . .-.   --. --- -. -. .-   .-.. . -   -.-- --- ..-   -.. --- .-- -. .-.-.-   -. . ...- . .-.   --. --- -. -. .-   .-. ..- -.   .- .-. --- ..- -. -..   .- -. -..   -.. . ... . .-. -   -.-- --- ..- .-.-.-   -. . ...- . .-.   --. --- -. -. .-   -- .- -.- .   -.-- --- ..-   -.-. .-. -.-- .-.-.-   -. . ...- . .-.   --. --- -. -. .-   ... .- -.--   --. --- --- -.. -... -.-- . .-.-.-   -. . ...- . .-.   --. --- -. -. .-   - . .-.. .-..   .-   .-.. .. .   .- -. -..   .... ..- .-. -   -.-- --- ..- .-.-.-')